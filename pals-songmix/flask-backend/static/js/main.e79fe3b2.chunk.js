(this.webpackJsonpsongbinator=this.webpackJsonpsongbinator||[]).push([[0],{61:function(t,e,a){t.exports=a(92)},66:function(t,e,a){},68:function(t,e,a){},92:function(t,e,a){"use strict";a.r(e);var n=a(0),s=a.n(n),r=a(9),i=a.n(r),c=(a(66),a(18)),o=a.n(c),l=a(28),u=a(29),d=a(21),m=a(45),h=a(46),p=a(13),v=a(51),f=a(47),b=a.n(f),g=(a(68),a(26)),k=a.n(g),_=(a(86),a(130)),x=a(129),y=function(t){function e(t){var a;return Object(u.a)(this,e),(a=Object(m.a)(this,Object(h.a)(e).call(this,t))).state={artist:"",tracks_state:{tracks:[{track_name:"",track_id:""}]},loader:!1,number_artists:1,artist_list:[],suggested_artists:[]},a.handleChange=a.handleChange.bind(Object(p.a)(a)),a.handleChangeAutocomplete=a.handleChangeAutocomplete.bind(Object(p.a)(a)),a.addArtist=a.addArtist.bind(Object(p.a)(a)),a.removeArtist=a.removeArtist.bind(Object(p.a)(a)),a}return Object(v.a)(e,t),Object(d.a)(e,[{key:"handleChange",value:function(){var t=Object(l.a)(o.a.mark((function t(e){var a,n,s;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a={suggested_artists:[]},n=[],s=e.target.value,t.next=5,k.a.get("/suggestedArtists?name="+s);case 5:a=t.sent,n=a.data.suggested_artists,this.setState({artist:s}),this.setState({suggested_artists:n});case 9:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}()},{key:"handleChangeAutocomplete",value:function(){var t=Object(l.a)(o.a.mark((function t(e){var a;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:a=e.target.textContent,this.setState({artist:a});case 2:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}()},{key:"addArtist",value:function(t){var e=this.state.artist_list;e=e.concat({name:t}),this.setState({artist_list:e}),this.setState({artist:""})}},{key:"removeArtist",value:function(t){var e=this.state.artist_list;e.splice(t,1),this.setState({artist_list:e})}},{key:"createPlaylist",value:function(){var t=Object(l.a)(o.a.mark((function t(){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,k.a.get("/createPlaylist");case 3:t.sent,t.next=8;break;case 6:t.prev=6,t.t0=t.catch(0);case 8:case"end":return t.stop()}}),t,null,[[0,6]])})));return function(){return t.apply(this,arguments)}}()},{key:"fetchTracks",value:function(){var t=Object(l.a)(o.a.mark((function t(e){var a,n,s,r,i,c,l,u,d,m,h,p,v,f,b,g,_;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:a={related_artists:[]},n={tracks:[]},s=[],r={tracks:[]},this.setState({loader:!0}),t.prev=5,i=!0,c=!1,l=void 0,t.prev=9,u=e[Symbol.iterator]();case 11:if(i=(d=u.next()).done){t.next=49;break}return m=d.value,t.next=15,k.a.get("/getSimilarArtists?name="+m.name);case 15:a=t.sent,h=a.data.related_artists,p=!0,v=!1,f=void 0,t.prev=20,b=h[Symbol.iterator]();case 22:if(p=(g=b.next()).done){t.next=31;break}return _=g.value,t.next=26,k.a.get("/getSongs?name="+_.name);case 26:n=t.sent,s=s.concat(n.data.tracks);case 28:p=!0,t.next=22;break;case 31:t.next=37;break;case 33:t.prev=33,t.t0=t.catch(20),v=!0,f=t.t0;case 37:t.prev=37,t.prev=38,p||null==b.return||b.return();case 40:if(t.prev=40,!v){t.next=43;break}throw f;case 43:return t.finish(40);case 44:return t.finish(37);case 45:s&&(r.tracks=s);case 46:i=!0,t.next=11;break;case 49:t.next=55;break;case 51:t.prev=51,t.t1=t.catch(9),c=!0,l=t.t1;case 55:t.prev=55,t.prev=56,i||null==u.return||u.return();case 58:if(t.prev=58,!c){t.next=61;break}throw l;case 61:return t.finish(58);case 62:return t.finish(55);case 63:t.next=67;break;case 65:t.prev=65,t.t2=t.catch(5);case 67:return this.setState({tracks_state:r}),this.setState({loader:!1}),t.next=71,k.a.get("/login");case 71:if(!t.sent){t.next=76;break}return t.next=75,k.a.get("/successLoginDone");case 75:t.sent;case 76:case"end":return t.stop()}}),t,this,[[5,65],[9,51,55,63],[20,33,37,45],[38,,40,44],[56,,58,62]])})));return function(e){return t.apply(this,arguments)}}()},{key:"render",value:function(){var t=this,e=!0;this.state.suggested_artists&&this.state.suggested_artists.map((function(a){a.name===t.state.artist&&""!==t.state.artist&&(e=!1)}));var a=!(this.state.artist_list.length>0),n=!1;this.state.artist_list.map((function(e){e.name===t.state.artist&&(n=!0)}));var r=void 0!==b.a.get("spotify_code");return s.a.createElement("div",{className:"searchFields"},r?s.a.createElement("div",null,this.state.loader?s.a.createElement("p",null,"Loading..."):s.a.createElement("div",{className:"columns layout"},s.a.createElement("div",{className:"column centered"},s.a.createElement("div",{className:"box flex"},s.a.createElement(_.a,{freeSolo:!0,options:this.state.suggested_artists,getOptionLabel:function(t){return t.name},onChange:this.handleChangeAutocomplete,renderInput:function(e){return s.a.createElement(x.a,Object.assign({},e,{label:"Artist Name",variant:"outlined",fullWidth:!0,value:t.state.artist,onChange:t.handleChange}))}}),s.a.createElement("div",{className:"menuButtons"},s.a.createElement("button",{className:"button",disabled:e||n,onClick:function(){return t.addArtist(t.state.artist)}},"Add"),s.a.createElement("button",{className:"button",disabled:a,onClick:function(){return t.fetchTracks(t.state.artist_list)}},"Go"),s.a.createElement("button",{className:"button",disabled:!1,onClick:function(){return t.createPlaylist()}},"Create playlist"))),this.state.tracks_state.tracks&&this.state.tracks_state.tracks.map((function(t){return s.a.createElement("p",null,t.track_name)}))),s.a.createElement("div",{className:"column centered fixedSizeDiv"},s.a.createElement("div",{className:"artistContainer"},0===this.state.artist_list.length&&s.a.createElement("div",{className:"artistText"}," Insert artist "),this.state.artist_list&&this.state.artist_list.map((function(e,a){return s.a.createElement("div",{className:"box artistComponent",key:a},s.a.createElement("div",{className:"selectedArtist"},s.a.createElement("p",null,e.name),s.a.createElement("button",{className:"button",onClick:function(){return t.removeArtist(a)}},"X")))})))))):s.a.createElement("div",null,s.a.createElement("button",{className:"button"},s.a.createElement("a",{href:"https://accounts.spotify.com/authorize?client_id=b9147e7fb3954d24a264480d4a63700d&redirect_uri=http://127.0.0.1:5000/successLoginDone&scope=playlist-modify-public playlist-modify-private&response_type=code"},"Login"))))}}]),e}(s.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(s.a.createElement(y,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(t){t.unregister()}))}},[[61,1,2]]]);
//# sourceMappingURL=main.e79fe3b2.chunk.js.map