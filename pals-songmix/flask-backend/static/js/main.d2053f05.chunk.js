(this.webpackJsonpsongbinator=this.webpackJsonpsongbinator||[]).push([[0],{61:function(t,e,a){t.exports=a(92)},66:function(t,e,a){},67:function(t,e,a){},92:function(t,e,a){"use strict";a.r(e);var s=a(0),n=a.n(s),r=a(9),i=a.n(r),c=(a(66),a(20)),l=a(15),o=a(27),u=a(28),d=a(30),h=a(32),m=a.n(h),p=(a(67),a(68),function(t){function e(){return Object(c.a)(this,e),Object(o.a)(this,Object(u.a)(e).apply(this,arguments))}return Object(d.a)(e,t),Object(l.a)(e,[{key:"render",value:function(){return s.createElement("div",null,s.createElement("button",{className:"button"},s.createElement("a",{href:"https://accounts.spotify.com/authorize?client_id=b9147e7fb3954d24a264480d4a63700d&redirect_uri=http://127.0.0.1:5000/successLoginDone&scope=playlist-modify-public playlist-modify-private playlist-read-private&response_type=code"},"Login")))}}]),e}(s.Component)),v=a(26),f=a.n(v),b=a(36),g=a(13),k=a(130),_=a(129),y=a(31),x=a.n(y),E=function(t){function e(t){var a;return Object(c.a)(this,e),(a=Object(o.a)(this,Object(u.a)(e).call(this,t))).state={artist:"",tracks_state:{tracks:[]},loader:!1,artist_list:[],suggested_artists:[]},a.handleChange=a.handleChange.bind(Object(g.a)(a)),a.handleChangeAutocomplete=a.handleChangeAutocomplete.bind(Object(g.a)(a)),a.addArtist=a.addArtist.bind(Object(g.a)(a)),a.removeArtist=a.removeArtist.bind(Object(g.a)(a)),a}return Object(d.a)(e,t),Object(l.a)(e,[{key:"handleChange",value:function(){var t=Object(b.a)(f.a.mark((function t(e){var a,s,n;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a={suggested_artists:[]},s=[],n=e.target.value,t.next=5,x.a.get("/suggestedArtists?name="+n);case 5:a=t.sent,s=a.data.suggested_artists,this.setState({artist:n}),this.setState({suggested_artists:s});case 9:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}()},{key:"handleChangeAutocomplete",value:function(){var t=Object(b.a)(f.a.mark((function t(e){var a;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:a=e.target.textContent,this.setState({artist:a});case 2:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}()},{key:"addArtist",value:function(t){var e=this.state.artist_list;e=e.concat({name:t}),this.setState({artist_list:e}),this.setState({artist:""})}},{key:"removeArtist",value:function(t){var e=this.state.artist_list;e.splice(t,1),this.setState({artist_list:e})}},{key:"createPlaylist",value:function(){var t=Object(b.a)(f.a.mark((function t(){var e,a,s,n,r,i,c,l,o,u,d,h,m,p,v,b,g,k,_;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e={related_artists:[]},a={tracks:[]},s=[],n={tracks:[]},this.setState({loader:!0}),t.prev=5,r=!0,i=!1,c=void 0,t.prev=9,l=this.state.artist_list[Symbol.iterator]();case 11:if(r=(o=l.next()).done){t.next=49;break}return u=o.value,t.next=15,x.a.get("/getSimilarArtists?name="+u.name);case 15:e=t.sent,d=e.data.related_artists,h=!0,m=!1,p=void 0,t.prev=20,v=d[Symbol.iterator]();case 22:if(h=(b=v.next()).done){t.next=31;break}return g=b.value,t.next=26,x.a.get("/getSongs?name="+g.name);case 26:a=t.sent,s=s.concat(a.data.tracks);case 28:h=!0,t.next=22;break;case 31:t.next=37;break;case 33:t.prev=33,t.t0=t.catch(20),m=!0,p=t.t0;case 37:t.prev=37,t.prev=38,h||null==v.return||v.return();case 40:if(t.prev=40,!m){t.next=43;break}throw p;case 43:return t.finish(40);case 44:return t.finish(37);case 45:s&&(n.tracks=s.slice(0,5));case 46:r=!0,t.next=11;break;case 49:t.next=55;break;case 51:t.prev=51,t.t1=t.catch(9),i=!0,c=t.t1;case 55:t.prev=55,t.prev=56,r||null==l.return||l.return();case 58:if(t.prev=58,!i){t.next=61;break}throw c;case 61:return t.finish(58);case 62:return t.finish(55);case 63:t.next=67;break;case 65:t.prev=65,t.t2=t.catch(5);case 67:return this.setState({tracks_state:n}),t.next=70,x.a.get("/createPlaylist");case 70:return k=t.sent,_={tracks:this.state.tracks_state,token:k.data.token,playlist:k.data.playlist_id},t.next=74,x.a.post("/addTrack",_);case 74:t.sent,this.setState({loader:!1});case 76:case"end":return t.stop()}}),t,this,[[5,65],[9,51,55,63],[20,33,37,45],[38,,40,44],[56,,58,62]])})));return function(){return t.apply(this,arguments)}}()},{key:"render",value:function(){var t=this,e=!0;this.state.suggested_artists&&this.state.suggested_artists.map((function(a){a.name===t.state.artist&&""!==t.state.artist&&(e=!1)}));var a=!(this.state.artist_list.length>0),n=!1;this.state.artist_list.map((function(e){e.name===t.state.artist&&(n=!0)}));m.a.get("spotify_code"),!1===this.state.loader&&this.state.tracks_state.tracks;return s.createElement("div",null,this.state.loader?s.createElement("p",null,"Loading..."):s.createElement("div",{className:"columns layout"},s.createElement("div",{className:"column centered"},s.createElement("div",{className:"box flex"},s.createElement(k.a,{freeSolo:!0,options:this.state.suggested_artists,getOptionLabel:function(t){return t.name},onChange:this.handleChangeAutocomplete,renderInput:function(e){return s.createElement(_.a,Object.assign({},e,{label:"Artist Name",variant:"outlined",fullWidth:!0,value:t.state.artist,onChange:t.handleChange}))}}),s.createElement("div",{className:"menuButtons"},s.createElement("button",{className:"button",disabled:e||n,onClick:function(){return t.addArtist(t.state.artist)}},"Add"),s.createElement("button",{className:"button",disabled:a,onClick:function(){return t.createPlaylist()}},"Create playlist"))),this.state.tracks_state.tracks&&this.state.tracks_state.tracks.map((function(t){return s.createElement("p",null,t.track_name)}))),s.createElement("div",{className:"column centered fixedSizeDiv"},s.createElement("div",{className:"artistContainer"},0===this.state.artist_list.length&&s.createElement("div",{className:"artistText"}," Insert artist "),this.state.artist_list&&this.state.artist_list.map((function(e,a){return s.createElement("div",{className:"box artistComponent",key:a},s.createElement("div",{className:"selectedArtist"},s.createElement("p",null,e.name),s.createElement("button",{className:"button",onClick:function(){return t.removeArtist(a)}},"X")))}))))))}}]),e}(s.Component),O=function(t){function e(t){var a;return Object(c.a)(this,e),(a=Object(o.a)(this,Object(u.a)(e).call(this,t))).state={artist:"",tracks_state:{tracks:[]},loader:!1,artist_list:[],suggested_artists:[]},a}return Object(d.a)(e,t),Object(l.a)(e,[{key:"render",value:function(){var t=this;this.state.suggested_artists&&this.state.suggested_artists.map((function(e){e.name===t.state.artist&&""!==t.state.artist&&!1}));this.state.artist_list.length;this.state.artist_list.map((function(e){e.name===t.state.artist&&!0}));var e=void 0!==m.a.get("spotify_code");!1===this.state.loader&&this.state.tracks_state.tracks;return n.a.createElement("div",{className:"searchFields"},e?n.a.createElement(E,null):n.a.createElement(p,null))}}]),e}(n.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(n.a.createElement(O,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(t){t.unregister()}))}},[[61,1,2]]]);
//# sourceMappingURL=main.d2053f05.chunk.js.map