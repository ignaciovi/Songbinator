(this.webpackJsonpsongbinator=this.webpackJsonpsongbinator||[]).push([[0],{61:function(t,e,a){t.exports=a(92)},66:function(t,e,a){},68:function(t,e,a){},92:function(t,e,a){"use strict";a.r(e);var s=a(0),n=a.n(s),r=a(9),i=a.n(r),c=(a(66),a(18)),o=a.n(c),l=a(28),u=a(29),d=a(21),m=a(45),h=a(46),p=a(13),v=a(51),f=a(47),b=a.n(f),k=(a(68),a(27)),g=a.n(k),_=(a(86),a(130)),y=a(129),x=function(t){function e(t){var a;return Object(u.a)(this,e),(a=Object(m.a)(this,Object(h.a)(e).call(this,t))).state={artist:"",tracks_state:{tracks:[{track_name:"",track_id:""}]},loader:!1,number_artists:1,artist_list:[],suggested_artists:[]},a.handleChange=a.handleChange.bind(Object(p.a)(a)),a.handleChangeAutocomplete=a.handleChangeAutocomplete.bind(Object(p.a)(a)),a.addArtist=a.addArtist.bind(Object(p.a)(a)),a.removeArtist=a.removeArtist.bind(Object(p.a)(a)),a}return Object(v.a)(e,t),Object(d.a)(e,[{key:"handleChange",value:function(){var t=Object(l.a)(o.a.mark((function t(e){var a,s,n;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a={suggested_artists:[]},s=[],n=e.target.value,t.next=5,g.a.get("/suggestedArtists?name="+n);case 5:a=t.sent,s=a.data.suggested_artists,this.setState({artist:n}),this.setState({suggested_artists:s});case 9:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}()},{key:"handleChangeAutocomplete",value:function(){var t=Object(l.a)(o.a.mark((function t(e){var a;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:a=e.target.textContent,this.setState({artist:a});case 2:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}()},{key:"addArtist",value:function(t){var e=this.state.artist_list;e=e.concat({name:t}),this.setState({artist_list:e}),this.setState({artist:""})}},{key:"removeArtist",value:function(t){var e=this.state.artist_list;e.splice(t,1),this.setState({artist_list:e})}},{key:"createPlaylist",value:function(){var t=Object(l.a)(o.a.mark((function t(e){var a;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,g.a.get("/createPlaylist");case 3:return a=t.sent,console.log(a),t.next=7,g.a.get("/addTrack?track="+e.tracks[0].track_id+"&token="+a.data.token+"&playlist="+a.data.playlist_id);case 7:t.sent,t.next=12;break;case 10:t.prev=10,t.t0=t.catch(0);case 12:case"end":return t.stop()}}),t,null,[[0,10]])})));return function(e){return t.apply(this,arguments)}}()},{key:"fetchTracks",value:function(){var t=Object(l.a)(o.a.mark((function t(e){var a,s,n,r,i,c,l,u,d,m,h,p,v,f,b,k,_;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:a={related_artists:[]},s={tracks:[]},n=[],r={tracks:[]},this.setState({loader:!0}),t.prev=5,i=!0,c=!1,l=void 0,t.prev=9,u=e[Symbol.iterator]();case 11:if(i=(d=u.next()).done){t.next=49;break}return m=d.value,t.next=15,g.a.get("/getSimilarArtists?name="+m.name);case 15:a=t.sent,h=a.data.related_artists,p=!0,v=!1,f=void 0,t.prev=20,b=h[Symbol.iterator]();case 22:if(p=(k=b.next()).done){t.next=31;break}return _=k.value,t.next=26,g.a.get("/getSongs?name="+_.name);case 26:s=t.sent,n=n.concat(s.data.tracks);case 28:p=!0,t.next=22;break;case 31:t.next=37;break;case 33:t.prev=33,t.t0=t.catch(20),v=!0,f=t.t0;case 37:t.prev=37,t.prev=38,p||null==b.return||b.return();case 40:if(t.prev=40,!v){t.next=43;break}throw f;case 43:return t.finish(40);case 44:return t.finish(37);case 45:n&&(r.tracks=n);case 46:i=!0,t.next=11;break;case 49:t.next=55;break;case 51:t.prev=51,t.t1=t.catch(9),c=!0,l=t.t1;case 55:t.prev=55,t.prev=56,i||null==u.return||u.return();case 58:if(t.prev=58,!c){t.next=61;break}throw l;case 61:return t.finish(58);case 62:return t.finish(55);case 63:t.next=67;break;case 65:t.prev=65,t.t2=t.catch(5);case 67:this.setState({tracks_state:r}),this.setState({loader:!1});case 69:case"end":return t.stop()}}),t,this,[[5,65],[9,51,55,63],[20,33,37,45],[38,,40,44],[56,,58,62]])})));return function(e){return t.apply(this,arguments)}}()},{key:"render",value:function(){var t=this,e=!0;this.state.suggested_artists&&this.state.suggested_artists.map((function(a){a.name===t.state.artist&&""!==t.state.artist&&(e=!1)}));var a=!(this.state.artist_list.length>0),s=!1;this.state.artist_list.map((function(e){e.name===t.state.artist&&(s=!0)}));var r=void 0!==b.a.get("spotify_code");return n.a.createElement("div",{className:"searchFields"},r?n.a.createElement("div",null,this.state.loader?n.a.createElement("p",null,"Loading..."):n.a.createElement("div",{className:"columns layout"},n.a.createElement("div",{className:"column centered"},n.a.createElement("div",{className:"box flex"},n.a.createElement(_.a,{freeSolo:!0,options:this.state.suggested_artists,getOptionLabel:function(t){return t.name},onChange:this.handleChangeAutocomplete,renderInput:function(e){return n.a.createElement(y.a,Object.assign({},e,{label:"Artist Name",variant:"outlined",fullWidth:!0,value:t.state.artist,onChange:t.handleChange}))}}),n.a.createElement("div",{className:"menuButtons"},n.a.createElement("button",{className:"button",disabled:e||s,onClick:function(){return t.addArtist(t.state.artist)}},"Add"),n.a.createElement("button",{className:"button",disabled:a,onClick:function(){return t.fetchTracks(t.state.artist_list)}},"Go"),n.a.createElement("button",{className:"button",disabled:!1,onClick:function(){return t.createPlaylist(t.state.tracks_state)}},"Create playlist"))),this.state.tracks_state.tracks&&this.state.tracks_state.tracks.map((function(t){return n.a.createElement("p",null,t.track_name)}))),n.a.createElement("div",{className:"column centered fixedSizeDiv"},n.a.createElement("div",{className:"artistContainer"},0===this.state.artist_list.length&&n.a.createElement("div",{className:"artistText"}," Insert artist "),this.state.artist_list&&this.state.artist_list.map((function(e,a){return n.a.createElement("div",{className:"box artistComponent",key:a},n.a.createElement("div",{className:"selectedArtist"},n.a.createElement("p",null,e.name),n.a.createElement("button",{className:"button",onClick:function(){return t.removeArtist(a)}},"X")))})))))):n.a.createElement("div",null,n.a.createElement("button",{className:"button"},n.a.createElement("a",{href:"https://accounts.spotify.com/authorize?client_id=b9147e7fb3954d24a264480d4a63700d&redirect_uri=http://127.0.0.1:5000/successLoginDone&scope=playlist-modify-public playlist-modify-private playlist-read-private&response_type=code"},"Login"))))}}]),e}(n.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(n.a.createElement(x,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(t){t.unregister()}))}},[[61,1,2]]]);
//# sourceMappingURL=main.b199a997.chunk.js.map